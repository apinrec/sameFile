# 檔案比對工具

一個基於網頁的三資料夾檔案比對工具，可以幫助您找出在多個資料夾中相同的檔案。

## 功能特色

- 支援二至三個資料夾同時比對
- 智能兩階段比對：先以檔名+大小篩選，再對候選檔案進行 SHA-256 雜湊比對
- 只顯示重複檔案，隱藏唯一檔案
- 可選的同名同路徑輔助標記功能
- 支援停止比對並顯示部分結果
- 處理檔案讀取錯誤，自動跳過無法訪問的檔案
- 清晰的可視化結果表格
- 支援勾選並標記要刪除的檔案

## 使用方法

1. 在瀏覽器中開啟 `index.html`
   - 建議使用 Chrome 或 Edge 瀏覽器
   - Safari 可能有限制，不建議使用

2. 選擇要比較的資料夾
   - 至少需要選擇「資料夾 A」和「資料夾 B」
   - 「資料夾 C」為可選項目
   - 直接從檔案選擇器選擇整個資料夾

3. 調整比對選項（可選）
   - 勾選「以內容雜湊比對」進行精確的檔案內容比較（推薦）
   - 勾選「同名同路徑也視為相同」作為輔助標記

4. 點擊「開始比對」
   - 程式會先以檔名+大小快速篩選候選檔案
   - 只對可能重複的檔案計算 SHA-256 雜湊值
   - 進度條顯示處理狀態
   - 可隨時點擊「停止比對」中斷處理

5. 查看結果
   - 只顯示重複檔案，隱藏唯一檔案
   - 「三處相同」：檔案在所有選取的資料夾中都存在
   - 「兩處相同」：檔案在兩個資料夾中存在
   - 「同名同路徑」：根據檔名和路徑的輔助匹配

6. 管理重複檔案
   - 在 A、B、C 欄中勾選要刪除的檔案
   - 使用「全選」按鈕快速選擇整欄檔案
   - 點擊「刪除選取檔案」查看要手動刪除的檔案清單

## 結果說明

### 表格欄位
- **檔案(相對路徑)**：檔案在原始資料夾中的相對路徑
- **大小**：檔案大小（位元組）
- **雜湊**：檔案的 SHA-256 雜湊值（前16位）
- **A/B/C**：標示檔案在對應資料夾中的存在狀況

### 標記顏色
- **綠色**：三處相同（檔案存在於所有選取的資料夾）
- **橘色**：兩處相同（檔案存在於兩個資料夾）
- **藍色**：同名同路徑的輔助標記

## 效能優化

- **智能兩階段比對**：大幅減少雜湊計算量
  - 第一階段：以檔名+大小快速篩選候選檔案
  - 第二階段：只對可能重複的檔案計算 SHA-256 雜湊值
  - 唯一檔案（檔名+大小不重複）完全跳過雜湊計算
- **部分結果顯示**：停止比對後仍可查看已處理的結果
- **進度追蹤**：即時顯示處理進度和狀態

## 注意事項

- 大資料夾處理時間大幅縮短，但仍建議先測試小資料夾
- 遇到無權限或鎖定的檔案會被自動跳過，結果摘要會顯示跳過數量
- 所有處理都在本機瀏覽器中進行，不會上傳檔案到任何伺服器
- 建議在較新版本的瀏覽器中使用，確保相容性
- 停止比對後會顯示部分結果，可根據需要決定是否重新開始

## 使用限制

- 需要允許瀏覽器讀取本地檔案
- 某些系統保護資料夾可能無法存取
- 若檔案被其他程式佔用，可能會跳過該檔案
